<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Domain Marketplace | Dynamic Data Loading</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #0f172a;
            --accent: #f59e0b;
            --light: #f8fafc;
            --mid: #cbd5e1;
            --success: #10b981;
            --danger: #ef4444;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 8px;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
        }
        
        body {
            background-color: #f1f5f9;
            color: #334155;
            line-height: 1.6;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }
        
        /* Improved Touch Targets */
        button, 
        .filter-btn,
        .cta-button,
        .footer-links a {
            min-height: 44px;
            min-width: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Header - Mobile Optimized */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 0 0;
            padding-top: var(--safe-top);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            font-size: 20px;
            color: var(--secondary);
        }
        
        .logo i {
            color: var(--primary);
            font-size: 24px;
        }
        
        .tagline {
            font-size: 12px;
            color: #64748b;
            font-weight: 500;
        }
        
        /* Hero - Mobile First */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
        
        .hero h1 {
            font-size: clamp(1.8rem, 5vw, 3rem);
            margin-bottom: 16px;
            line-height: 1.3;
            padding: 0 12px;
        }
        
        .hero p {
            font-size: clamp(1rem, 3vw, 1.2rem);
            max-width: 700px;
            margin: 0 auto 24px;
            opacity: 0.9;
            padding: 0 16px;
        }
        
        .cta-button {
            background-color: var(--accent);
            color: var(--secondary);
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
            cursor: pointer;
            border: none;
            white-space: nowrap;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
            background-color: #fbbf24;
        }
        
        /* Domain Categories - Mobile Cards */
        .section-title {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .section-title h2 {
            font-size: clamp(1.6rem, 4vw, 2.2rem);
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        .section-title p {
            color: #64748b;
            max-width: 600px;
            margin: 0 auto;
            padding: 0 16px;
        }
        
        .category-card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 32px;
            transition: transform 0.3s ease;
        }
        
        .category-card:hover {
            transform: translateY(-3px);
        }
        
        .category-header {
            padding: 20px;
            color: white;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .high-value .category-header {
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
        }
        
        .mid-tier .category-header {
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
        }
        
        .fun-viral .category-header {
            background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%);
        }
        
        .category-header h3 {
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .price-range {
            font-size: 1.1rem;
            font-weight: 700;
            align-self: flex-start;
        }
        
        /* Domain Table - Responsive */
        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .domain-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px; /* Minimum width for table before scrolling */
        }
        
        .domain-table thead {
            background-color: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .domain-table th {
            padding: 16px 12px;
            text-align: left;
            font-weight: 600;
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        .domain-table td {
            padding: 16px 12px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .domain-table tbody tr:active {
            background-color: #f8fafc;
        }
        
        .domain-name {
            font-weight: 700;
            color: var(--secondary);
            font-size: 1rem;
            word-break: break-word;
        }
        
        .domain-why {
            color: #475569;
            font-size: 0.95rem;
        }
        
        .domain-price {
            font-weight: 700;
            color: var(--success);
            white-space: nowrap;
        }
        
        /* Mobile Card View for Domains */
        .mobile-domain-card {
            display: none;
            background: white;
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .mobile-domain-card .domain-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .mobile-domain-card .domain-name {
            font-size: 1.1rem;
            margin-right: 8px;
        }
        
        .mobile-domain-card .domain-price {
            font-size: 1.1rem;
        }
        
        .mobile-domain-card .domain-description {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 12px;
        }
        
        .mobile-domain-card .badge {
            margin-top: 4px;
        }
        
        /* Stats Section - Mobile Stack */
        .stats {
            display: flex;
            flex-direction: column;
            gap: 24px;
            background-color: white;
            border-radius: var(--radius);
            padding: 32px 20px;
            margin: 40px 0;
            box-shadow: var(--shadow);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            display: block;
            line-height: 1;
            margin-bottom: 4px;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
        }
        
        /* Footer - Mobile Optimized */
        footer {
            background-color: var(--secondary);
            color: #cbd5e1;
            padding: 40px 0 20px;
            margin-top: 40px;
            padding-bottom: calc(20px + var(--safe-bottom));
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 32px;
            margin-bottom: 40px;
        }
        
        .footer-section {
            width: 100%;
        }
        
        .footer-section h4 {
            color: white;
            margin-bottom: 16px;
            font-size: 1.1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        /* Responsive Breakpoints */
        @media (max-width: 768px) {
            .container {
                padding: 0 12px;
            }
            
            .domain-table {
                display: none; /* Hide table on mobile */
            }
            
            .mobile-domain-card {
                display: block; /* Show card view on mobile */
            }
            
            .table-container {
                overflow-x: visible;
            }
            
            .category-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                text-align: left;
            }
            
            .note-box {
                margin: 16px;
                padding: 16px;
            }
            
            .hero {
                padding: 32px 0;
            }
            
            .cta-button {
                padding: 16px 32px;
                font-size: 1rem;
            }
        }
        
        @media (min-width: 769px) {
            .stats {
                flex-direction: row;
                justify-content: space-around;
            }
            
            .footer-content {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .footer-section {
                flex: 1;
                min-width: 200px;
            }
            
            .category-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }
        
        @media (max-width: 480px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
            
            .logo {
                font-size: 1.1rem;
            }
            
            .hero {
                padding: 28px 0;
            }
            
            .hero h1 {
                font-size: 1.6rem;
            }
            
            .hero p {
                font-size: 0.95rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-box {
                width: 100%;
            }
            
            .filter-buttons {
                justify-content: center;
                flex-wrap: wrap;
            }
        }
        
        /* Controls - Mobile Friendly */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .search-container {
            position: relative;
            width: 100%;
        }
        
        .search-box {
            padding: 14px 16px;
            padding-left: 44px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius);
            width: 100%;
            font-size: 1rem;
            transition: all 0.3s ease;
            -webkit-appearance: none;
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
            pointer-events: none;
        }
        
        .search-box:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .filter-buttons {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 4px;
            -webkit-overflow-scrolling: touch;
        }
        
        .filter-btn {
            padding: 10px 16px;
            background-color: white;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .filter-btn:active, .filter-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .badge-new {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .badge-featured {
            background-color: #dbeafe;
            color: #1e40af;
        }
        
        .badge-ai {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .badge-viral {
            background-color: #fae8ff;
            color: #86198f;
        }
        
        /* Note boxes */
        .note-box {
            background-color: #f0f9ff;
            border-left: 4px solid var(--primary);
            padding: 16px;
            margin: 16px;
            border-radius: 0 var(--radius) var(--radius) 0;
            font-size: 0.9rem;
        }
        
        /* Loading State */
        .loading {
            text-align: center;
            padding: 40px;
            color: #64748b;
        }
        
        .loading i {
            font-size: 1.8rem;
            margin-bottom: 16px;
            color: var(--primary);
        }
        
        .loading-message {
            font-size: 1rem;
        }
        
        /* Admin Panel - Mobile Optimized */
        .admin-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 16px 16px 0 0;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
            padding: 24px;
            display: none;
            z-index: 1000;
            max-height: 80vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .admin-toggle {
            position: fixed;
            bottom: 20px;
            right: 16px;
            background: var(--primary);
            color: white;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 1001;
            font-size: 1.2rem;
        }
        
        .admin-toggle:active {
            transform: scale(0.95);
        }
        
        /* Prevent horizontal scrolling */
        html, body {
            overflow-x: hidden;
            width: 100%;
        }
        
        /* Improved touch feedback */
        button:active, .cta-button:active {
            transform: scale(0.98);
        }
        
        /* Keyboard navigation improvements */
        button:focus-visible,
        .cta-button:focus-visible,
        .filter-btn:focus-visible,
        .search-box:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-globe"></i>
                    <div>
                        <div>DomainVault</div>
                        <div class="tagline">Dynamic Data Loading</div>
                    </div>
                </div>
                <button id="contactBtn" class="cta-button" style="padding: 12px 20px; font-size: 0.95rem;">
                    <i class="fas fa-envelope"></i> Contact Us
                </button>
            </div>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Premium Domain Marketplace</h1>
            <p>Dynamic website loading data from JSON. Edit the data file to update domains instantly.</p>
            <button id="refreshData" class="cta-button">
                <i class="fas fa-sync-alt"></i> Refresh Data
            </button>
        </div>
    </section>
    
    <div class="container">
        <!-- Controls -->
        <div class="controls">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" class="search-box" placeholder="Search domains...">
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="high-value">High Value</button>
                <button class="filter-btn" data-filter="mid-tier">Mid Tier</button>
                <button class="filter-btn" data-filter="fun-viral">Fun/Viral</button>
            </div>
        </div>
        
        <!-- Loading State -->
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin"></i>
            <div class="loading-message">Loading domain data...</div>
        </div>
        
        <!-- Domain Categories will be loaded here -->
        <div id="domainContainer"></div>
        
        <!-- Stats Section will be loaded here -->
        <div id="statsContainer"></div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>DomainVault</h4>
                    <p>Dynamic domain marketplace with JSON data source. Edit domains.json to update content.</p>
                </div>
                <div class="footer-section">
                    <h4>Data Source</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="viewJsonBtn"><i class="fas fa-code"></i> View JSON Data</a></li>
                        <li><a href="#" id="exportCsvBtn"><i class="fas fa-file-csv"></i> Export to CSV</a></li>
                        <li><a href="#" id="downloadJsonBtn"><i class="fas fa-download"></i> Download JSON</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> contact@domainvault.example.com</li>
                        <li><i class="fas fa-phone"></i> (555) 123-4567</li>
                        <li><i class="fas fa-globe"></i> www.domainvault.example.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 DomainVault. Data loaded from domains.json<br>
                Last updated: <span id="lastUpdated"></span>
            </div>
        </div>
    </footer>
    
    <!-- Admin Panel -->
    <div class="admin-toggle" id="adminToggle">
        <i class="fas fa-cog"></i>
    </div>
    
    <div class="admin-panel" id="adminPanel">
        <h3 style="margin-bottom: 20px;">Data Management</h3>
        <div style="margin: 15px 0;">
            <button id="reloadJsonBtn" class="cta-button" style="width: 100%; margin-bottom: 12px;">
                <i class="fas fa-redo"></i> Reload from JSON
            </button>
            <button id="clearCacheBtn" class="cta-button" style="width: 100%; margin-bottom: 12px; background-color: #64748b;">
                <i class="fas fa-trash-alt"></i> Clear Cache
            </button>
            <button id="closeAdminBtn" class="cta-button" style="width: 100%; background-color: var(--danger);">
                <i class="fas fa-times"></i> Close Panel
            </button>
        </div>
        <div style="margin-top: 20px; font-size: 0.9rem; color: #64748b;">
            <p><strong>How to use:</strong></p>
            <p>1. Edit domains.json file</p>
            <p>2. Click "Reload from JSON"</p>
            <p>3. Website updates automatically</p>
        </div>
    </div>
    
    <script>
        // Global variables
        let domainData = null;
        let currentFilter = 'all';
        
        // DOM Elements
        const domainContainer = document.getElementById('domainContainer');
        const statsContainer = document.getElementById('statsContainer');
        const loadingElement = document.getElementById('loading');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const lastUpdatedSpan = document.getElementById('lastUpdated');
        
        // Load data from JSON file
        async function loadDomainData() {
            try {
                showLoading(true);
                
                // Fetch data from JSON file
                const response = await fetch('domains.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                domainData = await response.json();
                
                // Update the page
                renderAllCategories();
                renderStats();
                updateLastUpdated();
                showLoading(false);
                
                console.log('Data loaded successfully:', domainData);
                
            } catch (error) {
                console.error('Error loading domain data:', error);
                showError('Failed to load domain data. Please check if domains.json exists.');
                showLoading(false);
            }
        }
        
        // Show/hide loading state
        function showLoading(show) {
            if (show) {
                loadingElement.style.display = 'block';
                domainContainer.innerHTML = '';
                statsContainer.innerHTML = '';
            } else {
                loadingElement.style.display = 'none';
            }
        }
        
        // Show error message
        function showError(message) {
            domainContainer.innerHTML = `
                <div style="background: #fee2e2; color: #dc2626; padding: 24px; border-radius: var(--radius); text-align: center;">
                    <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 12px;"></i>
                    <h3 style="margin-bottom: 12px;">Error Loading Data</h3>
                    <p style="margin-bottom: 20px;">${message}</p>
                    <button onclick="loadDomainData()" class="cta-button">
                        <i class="fas fa-redo"></i> Try Again
                    </button>
                </div>
            `;
        }
        
        // Render all categories
        function renderAllCategories() {
            if (!domainData || !domainData.categories) return;
            
            domainContainer.innerHTML = '';
            
            domainData.categories.forEach(category => {
                // Filter domains based on search
                let filteredDomains = category.domains;
                const searchTerm = searchInput.value.toLowerCase();
                
                if (searchTerm) {
                    filteredDomains = category.domains.filter(domain => 
                        domain.name.toLowerCase().includes(searchTerm) || 
                        domain.description.toLowerCase().includes(searchTerm)
                    );
                }
                
                // Skip empty categories
                if (filteredDomains.length === 0 && searchTerm) return;
                
                // Skip if filter is active and doesn't match
                if (currentFilter !== 'all' && currentFilter !== category.color) return;
                
                const categoryElement = createCategoryElement(category, filteredDomains);
                domainContainer.appendChild(categoryElement);
            });
            
            // If no results found
            if (domainContainer.children.length === 0 && searchInput.value) {
                domainContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-search" style="font-size: 2.5rem; margin-bottom: 16px;"></i>
                        <h3 style="margin-bottom: 12px;">No domains found for "${searchInput.value}"</h3>
                        <p>Try a different search term or clear the search.</p>
                    </div>
                `;
            }
        }
        
        // Create category element
        function createCategoryElement(category, domains) {
            const categoryElement = document.createElement('section');
            categoryElement.className = `category-card ${category.color}`;
            categoryElement.id = category.color;
            
            // Create badge HTML
            function getBadgeHTML(badgeType) {
                if (!badgeType) return '';
                
                const badgeClasses = {
                    'TRENDING': 'badge-new',
                    'AI': 'badge-ai',
                    'VIRAL': 'badge-viral'
                };
                
                return `<span class="badge ${badgeClasses[badgeType] || 'badge-featured'}">${badgeType}</span>`;
            }
            
            // Build table rows for desktop
            let tableRows = '';
            // Build mobile cards for mobile
            let mobileCards = '';
            
            domains.forEach(domain => {
                // Table row for desktop
                tableRows += `
                    <tr>
                        <td class="domain-name">${domain.name}${getBadgeHTML(domain.badge)}</td>
                        <td class="domain-why">${domain.description}</td>
                        <td class="domain-price">${domain.price}</td>
                    </tr>
                `;
                
                // Mobile card
                mobileCards += `
                    <div class="mobile-domain-card">
                        <div class="domain-header">
                            <div>
                                <div class="domain-name">${domain.name}</div>
                                ${getBadgeHTML(domain.badge)}
                            </div>
                            <div class="domain-price">${domain.price}</div>
                        </div>
                        <div class="domain-description">${domain.description}</div>
                    </div>
                `;
            });
            
            // Build category HTML
            categoryElement.innerHTML = `
                <div class="category-header">
                    <h3><i class="fas fa-${category.icon}"></i> ${category.name}</h3>
                    <div class="price-range">${category.range}</div>
                </div>
                ${category.note ? `
                <div class="note-box">
                    <strong>Note:</strong> ${category.note}
                </div>
                ` : ''}
                <div class="table-container">
                    <table class="domain-table">
                        <thead>
                            <tr>
                                <th width="30%">Domain</th>
                                <th width="50%">${category.name.includes('High-Value') ? 'Why It Could Be Valuable' : category.name.includes('Mid-Tier') ? 'Why It Has Value' : 'Value Driver'}</th>
                                <th width="20%">${category.name.includes('High-Value') ? 'Estimated Sell Price' : 'Est. Sell Price'}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                    <div class="mobile-domain-cards">
                        ${mobileCards}
                    </div>
                </div>
            `;
            
            return categoryElement;
        }
        
        // Render stats section
        function renderStats() {
            if (!domainData || !domainData.stats) return;
            
            statsContainer.innerHTML = `
                <section class="stats">
                    <div class="stat-item">
                        <span class="stat-number" id="totalDomains">${domainData.stats.totalDomains}</span>
                        <span class="stat-label">Premium Domains</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">${domainData.stats.totalValue}</span>
                        <span class="stat-label">Total Value</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">${domainData.stats.categoriesCount}</span>
                        <span class="stat-label">Investment Tiers</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">Ownership Transfer</span>
                    </div>
                </section>
            `;
        }
        
        // Update last updated date
        function updateLastUpdated() {
            if (domainData && domainData.stats && domainData.stats.lastUpdated) {
                lastUpdatedSpan.textContent = domainData.stats.lastUpdated;
            }
        }
        
        // Event Listeners
        searchInput.addEventListener('input', () => {
            renderAllCategories();
        });
        
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update active button
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Set current filter
                currentFilter = button.dataset.filter;
                
                // Re-render categories
                renderAllCategories();
            });
        });
        
        // Refresh data button
        document.getElementById('refreshData').addEventListener('click', () => {
            loadDomainData();
        });
        
        // Contact button
        document.getElementById('contactBtn').addEventListener('click', () => {
            alert('Contact form would open here. Email: contact@domainvault.example.com');
        });
        
        // View JSON data
        document.getElementById('viewJsonBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (domainData) {
                const jsonString = JSON.stringify(domainData, null, 2);
                const newWindow = window.open();
                newWindow.document.write(`<pre>${jsonString}</pre>`);
                newWindow.document.title = 'Domain Data JSON';
            }
        });
        
        // Export to CSV
        document.getElementById('exportCsvBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (!domainData) return;
            
            let csvContent = "data:text/csv;charset=utf-8,";
            
            // Add header
            csvContent += "Category,Domain,Description,Price,Badge\r\n";
            
            // Add data
            domainData.categories.forEach(category => {
                category.domains.forEach(domain => {
                    const row = [
                        category.name,
                        domain.name,
                        domain.description,
                        domain.price,
                        domain.badge || ''
                    ].map(field => `"${field}"`).join(',');
                    
                    csvContent += row + "\r\n";
                });
            });
            
            // Create download link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "domains_export.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });
        
        // Download JSON
        document.getElementById('downloadJsonBtn').addEventListener('click', (e) => {
            e.preventDefault();
            if (!domainData) return;
            
            const jsonString = JSON.stringify(domainData, null, 2);
            const blob = new Blob([jsonString], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.href = url;
            link.download = "domains_data.json";
            link.click();
            URL.revokeObjectURL(url);
        });
        
        // Admin panel functionality
        const adminToggle = document.getElementById('adminToggle');
        const adminPanel = document.getElementById('adminPanel');
        const reloadJsonBtn = document.getElementById('reloadJsonBtn');
        const clearCacheBtn = document.getElementById('clearCacheBtn');
        const closeAdminBtn = document.getElementById('closeAdminBtn');
        
        adminToggle.addEventListener('click', () => {
            adminPanel.style.display = 'block';
            document.body.style.overflow = 'hidden';
        });
        
        closeAdminBtn.addEventListener('click', () => {
            adminPanel.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        reloadJsonBtn.addEventListener('click', () => {
            loadDomainData();
            adminPanel.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        clearCacheBtn.addEventListener('click', () => {
            if (confirm('Clear cache and reload from JSON?')) {
                // Add cache buster to URL
                const url = 'domains.json?' + new Date().getTime();
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        domainData = data;
                        renderAllCategories();
                        renderStats();
                        updateLastUpdated();
                        adminPanel.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        alert('Cache cleared and data reloaded!');
                    });
            }
        });
        
        // Close admin panel when clicking outside on mobile
        adminPanel.addEventListener('click', (e) => {
            if (e.target === adminPanel) {
                adminPanel.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Initial load
        document.addEventListener('DOMContentLoaded', loadDomainData);
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Escape to close admin panel
            if (e.key === 'Escape') {
                adminPanel.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Handle orientation change
        window.addEventListener('orientationchange', () => {
            // Add a small delay to ensure proper rendering after rotation
            setTimeout(() => {
                renderAllCategories();
            }, 100);
        });
        
        // Handle resize events
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                renderAllCategories();
            }, 250);
        });
        
        // Improve touch experience
        document.addEventListener('touchstart', function() {}, {passive: true});
    </script>
</body>
</html>
